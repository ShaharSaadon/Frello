<template>
  <li class="group-preview-wrapper">
    <div class="group-preview-content">
      <header class="group-preview-header flex space-between align-center">
        <!-- <h3>{{ group.title }}</h3> -->

        <form @submit.prevent>
          <textarea v-model="group.title" id="w3review" name="w3review" rows="1" cols="50"></textarea>
        </form>

        <span>...</span>
      </header>

      <TaskList :tasks="tasks" :groupId="group.id" />
  <li class="task-preview">
    bkabka
  </li>
  <button @click="$emit('removed')">x</button>

  <footer class="flex">
    <p class="add-a-card" @click="$emit('addTask')">Add a card</p>
    <span className="icon" v-html="getSvg('filter')"></span>
  </footer>
  </div>
  </li>
</template>

<script>
import TaskList from "../cmps/TaskList.vue";
import { svgService } from "../services/svg.service.js";


export default {
  name: "GroupPreview",
  props: {
    group: {
      type: Object,
      required: true,
    },
  },
  data() {
    return {};
  },
  methods: {
    getSvg(iconName) {
      return svgService.getTrelloSvg(iconName);
    },
    addTask() {
      this.$store.dispatch({ type: 'addTask', group: this.group })
    }
  },
  computed: {
    tasks() {
      return this.group.tasks;
    },
  },
  created() { },
  components: {
    TaskList,
  },
};
</script>

<style></style>
